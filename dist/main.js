(()=>{"use strict";async function e(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=${e}`,{mode:"cors"}),a=await n.json();return await async function(e,t,n){const a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&exclude=minutely,alerts&appid=${e}`,{mode:"cors"});return await a.json()}(e,a.coord.lat,a.coord.lon)}const t=(e,t)=>{const n=document.createElement("div");n.classList.add("locationInfo");const a=document.createElement("h1");a.textContent=e;const d=document.createElement("p"),c=new Date(1e3*t);return d.textContent=c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),n.appendChild(a),n.appendChild(d),n};function n(e,t){let n="../dist/images/weather.svg";switch(e){case"Clear":n=t?"../dist/images/day.svg":"../dist/images/night.svg";break;case"Clouds":n="../dist/images/cloudy.svg";break;case"Rain":n="../dist/images/rainy.svg";break;case"Snow":n="../dist/images/snowy.svg"}return n}function a(e,t,n){return new Date(1e3*n).getHours()>new Date(1e3*e).getHours()&&new Date(1e3*n).getHours()<new Date(1e3*t).getHours()}const d=(e,t,d)=>{const c=document.createElement("div");return c.classList.add("todays_weather"),c.id="todaysWeather",c.appendChild(((e,t,d)=>{const c=document.createElement("div");c.classList.add("currentWeather");const o=document.createElement("h2");o.textContent="Current Weather";const r=document.createElement("img");r.src=n(e.weather[0].main,a(t,d,e.dt)),r.classList.add("weatherImg");const s=document.createElement("p");s.textContent=e.weather[0].description.toUpperCase();const i=document.createElement("p");i.textContent=`Temperature: ${Math.round(e.temp-273.15)}°C`;const l=document.createElement("p");l.textContent=`Feels Like: ${Math.round(e.feels_like-273.15)}°C`;const p=document.createElement("p");p.textContent=`Humidity: ${e.humidity}%`;const m=document.createElement("p");m.textContent=`Chance of Rain: ${100*e.pop}%`;const u=document.createElement("p");return u.textContent=`Wind Speed: ${e.wind_speed}km/h`,c.appendChild(o),c.appendChild(r),c.appendChild(s),c.appendChild(i),c.appendChild(l),c.appendChild(p),c.appendChild(m),c.appendChild(u),c})(e[0],t,d)),c.appendChild(((e,t,d)=>{const c=document.createElement("div");c.classList.add("hourlyWeather");for(let o=1;o<24;o++){let r=new Date(1e3*e[o].dt).toLocaleTimeString("en-US",{hour:"numeric"}),s=Math.round(e[o].temp-273.15),i=e[o].weather[0].main,l=e[o].pop;const p=document.createElement("div");p.classList.add("hourlyWeatherCard");const m=document.createElement("h3");m.textContent=r;const u=document.createElement("img");u.src=n(i,a(t,d,e[o].dt)),u.classList.add("weatherImg");const h=document.createElement("div");h.classList.add("lowerCard");const C=document.createElement("p");C.textContent=s+"°C";const E=document.createElement("p");E.textContent=100*l+"% Chance of Rain",h.appendChild(C),h.appendChild(E),p.appendChild(m),p.appendChild(u),p.appendChild(h),c.appendChild(p)}return c})(e,t,d)),c};function c(){const n=document.getElementById("search").value;e("a5ad458465c46d33c6696067d8f8a347",n).then((e=>{document.body.innerHTML="",e.current;const a=e.daily,c=e.hourly,r=a[0].sunrise,s=a[0].sunset,i=document.createElement("div");i.appendChild(o()),i.appendChild(t(n,c[0].dt)),i.appendChild(d(c,r,s)),document.body.appendChild(i)}))}const o=()=>{const e=document.createElement("nav"),t=document.createElement("div"),n=document.createElement("img");n.src="../dist/images/weather.svg";const a=document.createElement("h1");return a.textContent="What's The Weather",t.appendChild(n),t.appendChild(a),e.appendChild(t),e.appendChild((()=>{const e=document.createElement("div");e.classList.add("search_bar");const t=document.createElement("input");t.placeholder="Enter a City",t.id="search",t.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),c())}));const n=document.createElement("button");return n.textContent="Search",n.onclick=e=>c(),e.appendChild(t),e.appendChild(n),e})()),e},r="Oakville";e("a5ad458465c46d33c6696067d8f8a347",r).then((e=>{e.current;const n=e.daily,a=e.hourly,c=n[0].sunrise,s=n[0].sunset,i=document.createElement("div");i.appendChild(o()),i.appendChild(t(r,a[0].dt)),i.appendChild(d(a,c,s)),document.body.appendChild(i)}))})();