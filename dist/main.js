(()=>{"use strict";async function e(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=${e}`,{mode:"cors"}),a=await n.json();return await async function(e,t,n){const a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&exclude=minutely,alerts&appid=${e}`,{mode:"cors"});return await a.json()}(e,a.coord.lat,a.coord.lon)}const t=(e,t)=>{const n=document.createElement("div");n.classList.add("locationInfo");const a=document.createElement("h1");a.textContent=e;const d=document.createElement("p"),c=new Date(1e3*t);return d.textContent=c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),n.appendChild(a),n.appendChild(d),n};function n(e,t){let n="../dist/images/weather.svg";switch(e){case"Clear":n=t?"../dist/images/day.svg":"../dist/images/night.svg";break;case"Clouds":n="../dist/images/cloudy.svg";break;case"Rain":n="../dist/images/rainy.svg";break;case"Snow":n="../dist/images/snowy.svg"}return n}function a(e,t,n){return new Date(1e3*n).getHours()>new Date(1e3*e).getHours()&&new Date(1e3*n).getHours()<new Date(1e3*t).getHours()}const d=(e,t,d)=>{const c=document.createElement("div");return c.classList.add("todays_weather"),c.id="todaysWeather",c.appendChild((e=>{const t=document.createElement("div");t.classList.add("currentWeather");const a=document.createElement("h2");a.textContent="Current Weather";const d=document.createElement("img");d.src=n(e.weather[0].main);const c=document.createElement("p");c.textContent=e.weather[0].description;const o=document.createElement("p");o.textContent=`${Math.round(e.temp-273.15)}°C`;const r=document.createElement("p");r.textContent=`${Math.round(e.feels_like-273.15)}°C`;const s=document.createElement("p");s.textContent=`${e.humidity}%`;const i=document.createElement("p");i.textContent=`${e.pop}%`;const l=document.createElement("p");return l.textContent=`${e.wind_speed}km/h`,t.appendChild(a),t.appendChild(d),t.appendChild(c),t.appendChild(o),t.appendChild(r),t.appendChild(s),t.appendChild(i),t.appendChild(l),t})(e[0])),c.appendChild(((e,t,d)=>{const c=document.createElement("div");c.classList.add("hourlyWeather");for(let o=1;o<24;o++){let r=new Date(1e3*e[o].dt).toLocaleTimeString("en-US",{hour:"numeric"}),s=Math.round(e[o].temp-273.15),i=e[o].weather[0].main,l=e[o].pop;const m=document.createElement("div");m.classList.add("hourlyWeatherCard");const p=document.createElement("h3");p.textContent=r;const u=document.createElement("img");u.src=n(i,a(t,d,e[o].dt));const h=document.createElement("div");h.classList.add("lowerCard");const C=document.createElement("p");C.textContent=s+"°C";const E=document.createElement("p");E.textContent=l+" POP",h.appendChild(C),h.appendChild(E),m.appendChild(p),m.appendChild(u),m.appendChild(h),c.appendChild(m)}return c})(e,t,d)),c},c=()=>{const n=document.createElement("nav"),a=document.createElement("div"),o=document.createElement("img");o.src="../dist/images/weather.svg";const r=document.createElement("h1");return r.textContent="What's The Weather",a.appendChild(o),a.appendChild(r),n.appendChild(a),n.appendChild((()=>{const n=document.createElement("div");n.classList.add("search_bar");const a=document.createElement("input");a.placeholder="Enter a City",a.id="search";const o=document.createElement("button");return o.textContent="Search",o.onclick=n=>function(){const n=document.getElementById("search").value;console.log(n),e("a5ad458465c46d33c6696067d8f8a347",n).then((e=>{document.body.innerHTML="",e.current;const a=e.daily,o=e.hourly,r=a[0].sunrise,s=a[0].sunset,i=document.createElement("div");i.appendChild(c()),i.appendChild(t(n,o[0].dt)),i.appendChild(d(o,r,s)),document.body.appendChild(i)}))}(),n.appendChild(a),n.appendChild(o),n})()),n},o="Tottenham";e("a5ad458465c46d33c6696067d8f8a347",o).then((e=>{e.current;const n=e.daily,a=e.hourly,r=n[0].sunrise,s=n[0].sunset,i=document.createElement("div");i.appendChild(c()),i.appendChild(t(o,a[0].dt)),i.appendChild(d(a,r,s)),document.body.appendChild(i)}))})();